INSERT INTO stock_ohlc_30min (symbol, datetime, date, time, open, high, low, close, volume, trade_count, vwap)
VALUES ('APH', '2023-12-20T17:30:00+00:00'::timestamptz, '2023-12-20'::date, '12:30:00'::time, 98.17, 98.245, 98.02, 98.22, 93482, 1851, 98.1548122), ('APH', '2023-12-20T18:00:00+00:00'::timestamptz, '2023-12-20'::date, '13:00:00'::time, 98.2175, 98.24, 97.9, 97.98, 107666, 1922, 98.0738715), ('APH', '2023-12-20T18:30:00+00:00'::timestamptz, '2023-12-20'::date, '13:30:00'::time, 97.99, 98.16, 97.84, 98.1, 150707, 2217, 98.0233267), ('APH', '2023-12-20T19:00:00+00:00'::timestamptz, '2023-12-20'::date, '14:00:00'::time, 98.1, 98.23, 98.07, 98.115, 262986, 3039, 98.13507933333334), ('APH', '2023-12-20T19:30:00+00:00'::timestamptz, '2023-12-20'::date, '14:30:00'::time, 98.115, 98.26, 97.86, 97.91, 1418899, 9111, 98.05748566666666), ('APH', '2023-12-20T20:00:00+00:00'::timestamptz, '2023-12-20'::date, '15:00:00'::time, 97.91, 98.02, 97.411, 97.45, 464707, 5032, 97.79444736666667), ('APH', '2023-12-20T20:30:00+00:00'::timestamptz, '2023-12-20'::date, '15:30:00'::time, 97.455, 97.99, 97.23, 97.28, 532139, 7685, 97.57128566666668), ('APH', '2023-12-20T21:00:00+00:00'::timestamptz, '2023-12-20'::date, '16:00:00'::time, 97.28, 97.28, 97.28, 97.28, 444905, 35, 97.28), ('APH', '2023-12-21T14:30:00+00:00'::timestamptz, '2023-12-21'::date, '09:30:00'::time, 98.02, 98.34, 97.84, 98.11, 133305, 1947, 98.0871312), ('APH', '2023-12-21T15:00:00+00:00'::timestamptz, '2023-12-21'::date, '10:00:00'::time, 98.11, 98.17, 97.68, 97.705, 144718, 2555, 97.8862519), ('APH', '2023-12-21T15:30:00+00:00'::timestamptz, '2023-12-21'::date, '10:30:00'::time, 97.71, 97.84, 97.55, 97.76, 125200, 2369, 97.7303224), ('APH', '2023-12-21T16:00:00+00:00'::timestamptz, '2023-12-21'::date, '11:00:00'::time, 97.78, 97.8525, 97.57, 97.8, 84331, 1456, 97.7342283448276), ('APH', '2023-12-21T16:30:00+00:00'::timestamptz, '2023-12-21'::date, '11:30:00'::time, 97.83, 98.005, 97.62, 97.62, 62356, 1381, 97.8693923), ('APH', '2023-12-21T17:00:00+00:00'::timestamptz, '2023-12-21'::date, '12:00:00'::time, 97.62, 97.65, 97.43, 97.52, 56398, 1305, 97.5174586), ('APH', '2023-12-21T17:30:00+00:00'::timestamptz, '2023-12-21'::date, '12:30:00'::time, 97.52, 97.61, 97.27, 97.3, 76703, 1730, 97.46567796666666), ('APH', '2023-12-21T18:00:00+00:00'::timestamptz, '2023-12-21'::date, '13:00:00'::time, 97.305, 97.57, 97.305, 97.52, 136434, 2060, 97.42299553333334), ('APH', '2023-12-21T18:30:00+00:00'::timestamptz, '2023-12-21'::date, '13:30:00'::time, 97.52, 97.61, 97.42, 97.51, 97628, 1838, 97.49882646666669), ('APH', '2023-12-21T19:00:00+00:00'::timestamptz, '2023-12-21'::date, '14:00:00'::time, 97.5, 97.73, 97.485, 97.65, 164320, 1965, 97.56748476666668), ('APH', '2023-12-21T19:30:00+00:00'::timestamptz, '2023-12-21'::date, '14:30:00'::time, 97.65, 97.86, 97.63, 97.8, 121050, 2017, 97.76275576666669), ('APH', '2023-12-21T20:00:00+00:00'::timestamptz, '2023-12-21'::date, '15:00:00'::time, 97.78, 98.22, 97.74, 98.21, 171949, 2448, 97.91594293333333), ('APH', '2023-12-21T20:30:00+00:00'::timestamptz, '2023-12-21'::date, '15:30:00'::time, 98.22, 98.43, 98.145, 98.27, 543100, 6534, 98.30513713333332), ('APH', '2023-12-21T21:00:00+00:00'::timestamptz, '2023-12-21'::date, '16:00:00'::time, 98.29, 98.29, 98.0, 98.0, 338507, 44, 98.19333333333334), ('APH', '2023-12-22T14:30:00+00:00'::timestamptz, '2023-12-22'::date, '09:30:00'::time, 98.82, 99.14, 98.7, 98.92, 109523, 1822, 98.94520053333332), ('APH', '2023-12-22T15:00:00+00:00'::timestamptz, '2023-12-22'::date, '10:00:00'::time, 98.94, 99.3, 98.84, 99.29, 143449, 2309, 99.0574068), ('APH', '2023-12-22T15:30:00+00:00'::timestamptz, '2023-12-22'::date, '10:30:00'::time, 99.29, 99.31, 98.97, 99.035, 99566, 1561, 99.11841644827584), ('APH', '2023-12-22T16:00:00+00:00'::timestamptz, '2023-12-22'::date, '11:00:00'::time, 99.02, 99.05, 98.85, 99.02, 101751, 1489, 98.95686973333332), ('APH', '2023-12-22T16:30:00+00:00'::timestamptz, '2023-12-22'::date, '11:30:00'::time, 99.035, 99.0932, 98.97, 99.0, 79032, 1365, 99.01746266666666), ('APH', '2023-12-22T17:00:00+00:00'::timestamptz, '2023-12-22'::date, '12:00:00'::time, 99.0, 99.06, 98.86, 99.05, 72215, 1522, 98.95584817241378), ('APH', '2023-12-22T17:30:00+00:00'::timestamptz, '2023-12-22'::date, '12:30:00'::time, 99.04, 99.16, 98.98, 99.12, 56986, 1143, 99.0575008275862), ('APH', '2023-12-22T18:00:00+00:00'::timestamptz, '2023-12-22'::date, '13:00:00'::time, 99.12, 99.28, 99.11, 99.21, 59895, 1254, 99.20428527586208), ('APH', '2023-12-22T18:30:00+00:00'::timestamptz, '2023-12-22'::date, '13:30:00'::time, 99.2, 99.2, 99.0, 99.13, 44496, 1176, 99.11385046428572), ('APH', '2023-12-22T19:00:00+00:00'::timestamptz, '2023-12-22'::date, '14:00:00'::time, 99.12, 99.13, 98.7, 98.74, 99935, 1575, 98.90443003448276), ('APH', '2023-12-22T19:30:00+00:00'::timestamptz, '2023-12-22'::date, '14:30:00'::time, 98.72, 99.15, 98.62, 99.15, 77967, 1553, 98.94892253333336), ('APH', '2023-12-22T20:00:00+00:00'::timestamptz, '2023-12-22'::date, '15:00:00'::time, 99.16, 99.2, 98.995, 99.12, 91465, 2153, 99.07406476666668), ('APH', '2023-12-22T20:30:00+00:00'::timestamptz, '2023-12-22'::date, '15:30:00'::time, 99.12, 99.12, 98.83, 99.02, 317223, 5058, 98.94704296666669), ('APH', '2023-12-22T21:00:00+00:00'::timestamptz, '2023-12-22'::date, '16:00:00'::time, 99.01, 99.01, 99.01, 99.01, 671306, 40, 99.01), ('APH', '2023-12-26T14:30:00+00:00'::timestamptz, '2023-12-26'::date, '09:30:00'::time, 98.94, 99.27, 98.94, 99.11, 55811, 1139, 99.12444831034482), ('APH', '2023-12-26T15:00:00+00:00'::timestamptz, '2023-12-26'::date, '10:00:00'::time, 99.13, 99.39, 99.12, 99.22, 50978, 1237, 99.2742689), ('APH', '2023-12-26T15:30:00+00:00'::timestamptz, '2023-12-26'::date, '10:30:00'::time, 99.23, 99.45, 99.17, 99.32, 72201, 1803, 99.30541563333333), ('APH', '2023-12-26T16:00:00+00:00'::timestamptz, '2023-12-26'::date, '11:00:00'::time, 99.33, 99.49, 99.26, 99.38, 38177, 1059, 99.36092179310344), ('APH', '2023-12-26T16:30:00+00:00'::timestamptz, '2023-12-26'::date, '11:30:00'::time, 99.4, 99.45, 99.35, 99.38, 39249, 1179, 99.40335074074072), ('APH', '2023-12-26T17:00:00+00:00'::timestamptz, '2023-12-26'::date, '12:00:00'::time, 99.37, 99.55, 99.34, 99.49, 46418, 1279, 99.427164), ('APH', '2023-12-26T17:30:00+00:00'::timestamptz, '2023-12-26'::date, '12:30:00'::time, 99.52, 99.565, 99.41, 99.4624, 35376, 970, 99.48519824137932), ('APH', '2023-12-26T18:00:00+00:00'::timestamptz, '2023-12-26'::date, '13:00:00'::time, 99.48, 99.59, 99.461, 99.5301, 41020, 1067, 99.54067131034482), ('APH', '2023-12-26T18:30:00+00:00'::timestamptz, '2023-12-26'::date, '13:30:00'::time, 99.55, 99.6185, 99.49, 99.55, 30002, 923, 99.55710360714284), ('APH', '2023-12-26T19:00:00+00:00'::timestamptz, '2023-12-26'::date, '14:00:00'::time, 99.56, 99.65, 99.56, 99.61, 41598, 960, 99.6155131724138), ('APH', '2023-12-26T19:30:00+00:00'::timestamptz, '2023-12-26'::date, '14:30:00'::time, 99.6, 99.67, 99.51, 99.645, 43577, 1269, 99.60946603448276), ('APH', '2023-12-26T20:00:00+00:00'::timestamptz, '2023-12-26'::date, '15:00:00'::time, 99.65, 99.76, 99.51, 99.65, 65562, 1660, 99.60604983333332), ('APH', '2023-12-26T20:30:00+00:00'::timestamptz, '2023-12-26'::date, '15:30:00'::time, 99.65, 99.75, 99.451, 99.48, 202051, 3704, 99.60691453333334), ('APH', '2023-12-26T21:00:00+00:00'::timestamptz, '2023-12-26'::date, '16:00:00'::time, 99.49, 99.49, 99.49, 99.49, 189154, 24, 99.49), ('APH', '2023-12-27T14:30:00+00:00'::timestamptz, '2023-12-27'::date, '09:30:00'::time, 99.65, 99.65, 99.12, 99.595, 69089, 1062, 99.47868813333334), ('APH', '2023-12-27T15:00:00+00:00'::timestamptz, '2023-12-27'::date, '10:00:00'::time, 99.595, 99.61, 99.31, 99.405, 54136, 1220, 99.4505362), ('APH', '2023-12-27T15:30:00+00:00'::timestamptz, '2023-12-27'::date, '10:30:00'::time, 99.4, 99.48, 99.195, 99.32, 79533, 1231, 99.32359796428572), ('APH', '2023-12-27T16:00:00+00:00'::timestamptz, '2023-12-27'::date, '11:00:00'::time, 99.32, 99.44, 99.255, 99.42, 44305, 986, 99.34844041379311), ('APH', '2023-12-27T16:30:00+00:00'::timestamptz, '2023-12-27'::date, '11:30:00'::time, 99.42, 99.55, 99.42, 99.48, 73388, 1088, 99.48369503333332), ('APH', '2023-12-27T17:00:00+00:00'::timestamptz, '2023-12-27'::date, '12:00:00'::time, 99.49, 99.56, 99.44, 99.49, 32602, 683, 99.50958046153846), ('APH', '2023-12-27T17:30:00+00:00'::timestamptz, '2023-12-27'::date, '12:30:00'::time, 99.5, 99.53, 99.34, 99.42, 40731, 804, 99.43940988888887), ('APH', '2023-12-27T18:00:00+00:00'::timestamptz, '2023-12-27'::date, '13:00:00'::time, 99.42, 99.63, 99.414, 99.425, 48604, 1143, 99.4976736), ('APH', '2023-12-27T18:30:00+00:00'::timestamptz, '2023-12-27'::date, '13:30:00'::time, 99.44, 99.52, 99.41, 99.44, 42789, 864, 99.47527979310344), ('APH', '2023-12-27T19:00:00+00:00'::timestamptz, '2023-12-27'::date, '14:00:00'::time, 99.4, 99.44, 99.17, 99.37, 40627, 989, 99.3041956), ('APH', '2023-12-27T19:30:00+00:00'::timestamptz, '2023-12-27'::date, '14:30:00'::time, 99.37, 99.53, 99.27, 99.37, 85120, 1630, 99.395773), ('APH', '2023-12-27T20:00:00+00:00'::timestamptz, '2023-12-27'::date, '15:00:00'::time, 99.38, 99.51, 99.34, 99.42, 50469, 1240, 99.4240189), ('APH', '2023-12-27T20:30:00+00:00'::timestamptz, '2023-12-27'::date, '15:30:00'::time, 99.43, 99.5, 99.26, 99.48, 216746, 4034, 99.38292176666668), ('APH', '2023-12-27T21:00:00+00:00'::timestamptz, '2023-12-27'::date, '16:00:00'::time, 99.47, 99.47, 99.47, 99.47, 339339, 28, 99.47), ('APH', '2023-12-28T14:30:00+00:00'::timestamptz, '2023-12-28'::date, '09:30:00'::time, 99.57, 99.61, 99.06, 99.17, 95028, 1759, 99.2378097), ('APH', '2023-12-28T15:00:00+00:00'::timestamptz, '2023-12-28'::date, '10:00:00'::time, 99.21, 99.41, 99.13, 99.4025, 34462, 1247, 99.26716333333331), ('APH', '2023-12-28T15:30:00+00:00'::timestamptz, '2023-12-28'::date, '10:30:00'::time, 99.41, 99.46, 99.17, 99.2023, 54179, 1953, 99.33205437931036), ('APH', '2023-12-28T16:00:00+00:00'::timestamptz, '2023-12-28'::date, '11:00:00'::time, 99.2156, 99.34, 99.14, 99.205, 31975, 1259, 99.22686796296296), ('APH', '2023-12-28T16:30:00+00:00'::timestamptz, '2023-12-28'::date, '11:30:00'::time, 99.19, 99.38, 99.18, 99.32, 36019, 1092, 99.28424535714284), ('APH', '2023-12-28T17:00:00+00:00'::timestamptz, '2023-12-28'::date, '12:00:00'::time, 99.33, 99.42, 99.31, 99.36, 41593, 1088, 99.37369710344828), ('APH', '2023-12-28T17:30:00+00:00'::timestamptz, '2023-12-28'::date, '12:30:00'::time, 99.36, 99.48, 99.35, 99.45, 30174, 957, 99.40878675862068), ('APH', '2023-12-28T18:00:00+00:00'::timestamptz, '2023-12-28'::date, '13:00:00'::time, 99.44, 99.46, 99.2229, 99.32, 40430, 1112, 99.31067653333334), ('APH', '2023-12-28T18:30:00+00:00'::timestamptz, '2023-12-28'::date, '13:30:00'::time, 99.325, 99.48, 99.325, 99.3701, 30006, 856, 99.39045723076924), ('APH', '2023-12-28T19:00:00+00:00'::timestamptz, '2023-12-28'::date, '14:00:00'::time, 99.3884, 99.54, 99.37, 99.51, 46977, 1078, 99.46237503448276), ('APH', '2023-12-28T19:30:00+00:00'::timestamptz, '2023-12-28'::date, '14:30:00'::time, 99.51, 99.6, 99.485, 99.56, 45016, 1193, 99.54541124137933), ('APH', '2023-12-28T20:00:00+00:00'::timestamptz, '2023-12-28'::date, '15:00:00'::time, 99.55, 99.61, 99.44, 99.545, 58395, 1533, 99.53061463333331), ('APH', '2023-12-28T20:30:00+00:00'::timestamptz, '2023-12-28'::date, '15:30:00'::time, 99.55, 99.635, 99.355, 99.46, 255651, 4458, 99.51941763333332), ('APH', '2023-12-28T21:00:00+00:00'::timestamptz, '2023-12-28'::date, '16:00:00'::time, 99.44, 99.44, 99.44, 99.44, 226192, 31, 99.44), ('APH', '2023-12-29T14:30:00+00:00'::timestamptz, '2023-12-29'::date, '09:30:00'::time, 99.36, 99.7, 99.29, 99.61, 51907, 1131, 99.547452), ('APH', '2023-12-29T15:00:00+00:00'::timestamptz, '2023-12-29'::date, '10:00:00'::time, 99.64, 99.6725, 99.32, 99.32, 44086, 1293, 99.4803845), ('APH', '2023-12-29T15:30:00+00:00'::timestamptz, '2023-12-29'::date, '10:30:00'::time, 99.34, 99.44, 99.11, 99.24, 53600, 1421, 99.28720776666668), ('APH', '2023-12-29T16:00:00+00:00'::timestamptz, '2023-12-29'::date, '11:00:00'::time, 99.255, 99.33, 98.92, 98.97, 46159, 1443, 99.12302586206896), ('APH', '2023-12-29T16:30:00+00:00'::timestamptz, '2023-12-29'::date, '11:30:00'::time, 98.94, 99.1319, 98.9, 99.1006, 42340, 1250, 99.02052148275862), ('APH', '2023-12-29T17:00:00+00:00'::timestamptz, '2023-12-29'::date, '12:00:00'::time, 99.11, 99.15, 98.85, 98.95, 31834, 1107, 99.00043525), ('APH', '2023-12-29T17:30:00+00:00'::timestamptz, '2023-12-29'::date, '12:30:00'::time, 98.945, 99.15, 98.945, 99.12, 25267, 890, 99.03250346153844), ('APH', '2023-12-29T18:00:00+00:00'::timestamptz, '2023-12-29'::date, '13:00:00'::time, 99.13, 99.179, 98.985, 98.99, 27415, 1082, 99.07776617857142), ('APH', '2023-12-29T18:30:00+00:00'::timestamptz, '2023-12-29'::date, '13:30:00'::time, 99.01, 99.18, 99.0, 99.06, 27258, 1146, 99.08767046153844), ('APH', '2023-12-29T19:00:00+00:00'::timestamptz, '2023-12-29'::date, '14:00:00'::time, 99.06, 99.24, 99.01, 99.16, 61077, 1389, 99.10499679310344), ('APH', '2023-12-29T19:30:00+00:00'::timestamptz, '2023-12-29'::date, '14:30:00'::time, 99.17, 99.24, 99.15, 99.22, 48011, 1413, 99.20000676666668), ('APH', '2023-12-29T20:00:00+00:00'::timestamptz, '2023-12-29'::date, '15:00:00'::time, 99.2209, 99.3519, 99.155, 99.315, 47823, 1651, 99.25051636666667), ('APH', '2023-12-29T20:30:00+00:00'::timestamptz, '2023-12-29'::date, '15:30:00'::time, 99.315, 99.35, 98.93, 99.17, 307484, 5619, 99.2058795), ('APH', '2023-12-29T21:00:00+00:00'::timestamptz, '2023-12-29'::date, '16:00:00'::time, 99.13, 99.13, 98.94, 99.13, 504172, 52, 99.075), ('APH', '2024-01-02T14:30:00+00:00'::timestamptz, '2024-01-02'::date, '09:30:00'::time, 97.97, 97.97, 97.11, 97.55, 238790, 3554, 97.44664253333332), ('APH', '2024-01-02T15:00:00+00:00'::timestamptz, '2024-01-02'::date, '10:00:00'::time, 97.57, 97.7, 97.08, 97.175, 114810, 2467, 97.40091316666668), ('APH', '2024-01-02T15:30:00+00:00'::timestamptz, '2024-01-02'::date, '10:30:00'::time, 97.16, 97.185, 96.93, 97.04, 143313, 3650, 97.0539676), ('APH', '2024-01-02T16:00:00+00:00'::timestamptz, '2024-01-02'::date, '11:00:00'::time, 97.03, 97.37, 97.02, 97.19, 85262, 2019, 97.2212633), ('APH', '2024-01-02T16:30:00+00:00'::timestamptz, '2024-01-02'::date, '11:30:00'::time, 97.2, 97.34, 97.05, 97.08, 142042, 2889, 97.19714173333334), ('APH', '2024-01-02T17:00:00+00:00'::timestamptz, '2024-01-02'::date, '12:00:00'::time, 97.08, 97.13, 96.81, 97.07, 126908, 2946, 97.00903193333332), ('APH', '2024-01-02T17:30:00+00:00'::timestamptz, '2024-01-02'::date, '12:30:00'::time, 97.08, 97.27, 96.92, 96.97, 86999, 2146, 97.081591), ('APH', '2024-01-02T18:00:00+00:00'::timestamptz, '2024-01-02'::date, '13:00:00'::time, 96.96, 97.08, 96.87, 97.0, 111802, 2217, 96.98647003333332)
ON CONFLICT (symbol, datetime) DO NOTHING;